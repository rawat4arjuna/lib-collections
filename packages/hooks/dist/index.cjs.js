"use strict";const t=require("react");function S(e,r){switch(r.type){case"SET_STATE":return{...e,...r.payload};case"RESET_STATE":return{};case"REMOVE_STATE":const{[r.key]:n,...u}=e;return u;default:throw new Error(`Unhandled action type: ${r.type}`)}}function h(e={}){const[r,n]=t.useReducer(S,e);return[r,(o,f)=>{if(typeof o=="string")n({type:"SET_STATE",payload:{[o]:f}});else if(typeof o=="object")n({type:"SET_STATE",payload:o});else throw new Error("Invalid key type. Key must be a string or an object.")},o=>{n({type:"REMOVE_STATE",key:o})},()=>{n({type:"RESET_STATE"})}]}function T(e,r){const[n,u]=t.useState(e);return t.useEffect(()=>{const s=setTimeout(()=>{u(e)},r);return()=>{clearTimeout(s)}},[e,r]),n}function y(e,r){let n=!1,u,s,c=null;const o=t.useCallback((...f)=>(s=f,n||(n=!0,u=e(...s),c=setTimeout(()=>{n=!1},r)),u),[e,r]);return o.cancel=()=>{c&&clearTimeout(c),n=!1},o}function L(e,r){const[n,u]=t.useState(e),s=typeof e=="function",c=t.useRef(null);return t.useEffect(()=>{if(s){const o=y(e,r);return c.current=o,()=>{c.current&&c.current.cancel&&c.current.cancel()}}else{const o=setTimeout(()=>{u(e)},r);return()=>{clearTimeout(o)}}},[e,r,s]),s?c.current:n}function g(e,r){const n=t.useRef(e),u=t.useRef(null);return t.useEffect(()=>{n.current=e},[e]),t.useEffect(()=>{if(r!==null){const c=setTimeout(()=>n.current(),r);return u.current=c,()=>clearTimeout(c)}return()=>{}},[r]),()=>{u.current&&(clearTimeout(u.current),u.current=null)}}function x(e,r){const n=t.useRef(e);t.useEffect(()=>{n.current=e},[e]),t.useEffect(()=>{function s(){n.current()}if(r!==null){const c=setInterval(s,r);return()=>clearInterval(c)}return()=>{}},[r]);const u=t.useRef(()=>{});return t.useEffect(()=>{if(r!==null){const s=setInterval(n.current,r);return u.current=()=>clearInterval(s),()=>clearInterval(s)}return u.current=()=>{},()=>{}},[r]),u.current}function I(e=!1){const[r,n]=t.useState(e),u=t.useCallback(()=>{n(s=>!s)},[]);return[r,u]}function p(e=!1){const[r,n]=t.useState(e);return[r,{on:()=>n(!0),off:()=>n(!1),toggle:()=>n(o=>!o)}]}function b(){const e=t.useRef(!1);return t.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}const C=(e,r)=>{const n=t.useRef(!0);t.useEffect(()=>{if(n.current){n.current=!1;return}return e()},r)};function A(){const e=t.useRef(!0);return e.current?(e.current=!1,!0):!1}function D(){const[,e]=t.useState(0);return t.useCallback(()=>{e(n=>n+1)},[])}function V(e){const r=t.useRef(e);return r.current=e,r}const _=typeof window<"u"?t.useLayoutEffect:t.useEffect;function k(e){const[r,n]=t.useState(!1);return t.useEffect(()=>{const u=e.current;if(!u)return;const s=()=>n(!0),c=()=>n(!1);return u.addEventListener("mouseenter",s),u.addEventListener("mouseleave",c),()=>{u.removeEventListener("mouseenter",s),u.removeEventListener("mouseleave",c)}},[e]),r}function M(){const[e,r]=t.useState(navigator.onLine);return t.useEffect(()=>{const n=()=>r(!0),u=()=>r(!1);return window.addEventListener("online",n),window.addEventListener("offline",u),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",u)}},[]),e}const U=6e4;function P(e=U){const[r,n]=t.useState(!1),u=t.useRef(null),s=()=>{n(!1),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{n(!0)},e)};return t.useEffect(()=>(s(),window.addEventListener("mousemove",s),window.addEventListener("keydown",s),window.addEventListener("scroll",s),window.addEventListener("click",s),window.addEventListener("touchstart",s),window.addEventListener("touchmove",s),()=>{u.current&&clearTimeout(u.current),window.removeEventListener("mousemove",s),window.removeEventListener("keydown",s),window.removeEventListener("scroll",s),window.removeEventListener("click",s),window.removeEventListener("touchstart",s),window.removeEventListener("touchmove",s)}),[e]),r}function H(){const[e,r]=t.useState(()=>document.visibilityState);return t.useEffect(()=>{const n=()=>{r(document.visibilityState)};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}},[]),e}function O(){const e=t.useRef(0);return e.current++,e.current}function j(e,r){const[n,u]=t.useState(null),[s,c]=t.useState(!0),[o,f]=t.useState(null);return t.useEffect(()=>{(async()=>{try{const a=await fetch(e,r);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const d=await a.json();u(d)}catch(a){f(a)}finally{c(!1)}})()},[e,r]),{data:n,loading:s,error:o}}function F(e){const[r,n]=t.useState({data:null,loading:!0,error:null}),u=t.useCallback(()=>{n({data:null,loading:!0,error:null}),e().then(s=>{n({data:s,loading:!1,error:null})}).catch(s=>{n({data:null,loading:!1,error:s})})},[e]);return t.useEffect(()=>{u()},[u]),r}function W(e,r={retries:3,delay:1e3},n=[]){const[u,s]=t.useState(),[c,o]=t.useState(!0),[f,E]=t.useState(null),[a,d]=t.useState(0),l=t.useRef(!0),v=t.useRef(e);t.useEffect(()=>{v.current=e},[e]),t.useCallback(async()=>{o(!0),E(null);try{const i=await v.current();l.current&&(s(i),o(!1))}catch(i){l.current&&(E(i),o(!1))}},[a]),t.useEffect(()=>{l.current=!0;let i=0;return(async()=>{for(;i<=r.retries;)try{const w=await e();l.current&&(s(w),o(!1),E(null));return}catch(w){l.current&&E(w),i++,i<=r.retries?await new Promise(m=>setTimeout(m,r.delay)):l.current&&o(!1)}})(),()=>{l.current=!1}},[...n,r.retries,r.delay,a]);const R=t.useCallback(()=>{d(i=>i+1)},[]);return{data:u,loading:c,error:f,retry:R}}function $(e,r,n=[]){const[u,s]=t.useState(null),[c,o]=t.useState(!1),[f,E]=t.useState(null),a=t.useRef(null),d=t.useRef(!1),l=async()=>{o(!0),E(null);try{const i=await e();d.current&&s(i)}catch(i){d.current&&E(i)}finally{d.current&&o(!1)}},v=()=>{a.current===null&&(l(),a.current=window.setInterval(l,r))},R=()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)};return t.useEffect(()=>(d.current=!0,v(),()=>{d.current=!1,R()}),[r,...n]),{data:u,loading:c,error:f,startPolling:v,stopPolling:R}}const q={useRexoraState:h,useRexoraDebounce:T,useRexoraThrottle:L,useRexoraTimeout:g,useRexoraInterval:x,useRexoraToggle:I,useRexoraBoolean:p,useRexoraMounted:b,useRexoraUpdateEffect:C,useRexoraFirstRender:A,useRexoraForceUpdate:D,useRexoraLatest:V,useRexoraIsomorphicLayoutEffect:_,useRexoraHover:k,useRexoraOnline:M,useRexoraIdle:P,useRexoraDocumentVisibility:H,useRexoraRenderCount:O,useRexoraFetch:j,useRexoraAsync:F,useRexoraRetry:W,useRexoraPolling:$};module.exports=q;
